# hl_mai_lab_01_python
# LAB-01 Variant #4


### ```commands.sql``` and ```backend/tests/my_service_test.py``` do the same, and fastAPI create tables by itself so DO NOT run ```backend/tests/my_service_test.py``` AFTER ```commands.sql```. DO it in parallel.

## DEPLOY

```bash
docker-compose build --no-cache
docker-compose up -d
```

# Компонентная архитектура
## Компонентная диаграмма


![companent_diagram](http://www.plantuml.com/plantuml/proxy?cache=no&src=https://raw.githubusercontent.com/KoryakovDmitry/hl_mai_lab_01_python/main/umls/companent_diagram.iuml)

## Список Компонентов

### Сервис Пользователей
**API**:
- **Создание Нового Пользователя**
  - _Входные параметры_: логин, имя, фамилия, электронная почта
  - _Выходные параметры_: отсутствуют
- **Поиск Пользователя по Логину**
  - _Входные параметры_: логин
  - _Выходные параметры_: имя, фамилия, электронная почта
- **Поиск Пользователя по Маске Имени и Фамилии**
  - _Входные параметры_: маска фамилии, маска имени
  - _Выходные параметры_: логин, имя, фамилия, электронная почта

### Сервис Услуг
**API**:
- **Создание Услуги**
  - _Входные параметры_: название услуги, описание, стоимость
  - _Выходные параметры_: идентификатор услуги
- **Получение Списка Всех Услуг**
  - _Входные параметры_: отсутствуют
  - _Выходные параметры_: массив услуг, в каждой указаны её идентификатор, название, описание, стоимость

### Сервис Заказов
**API**:
- **Создание Заказа**
  - _Входные параметры_: пользователь, список услуг, дата создания
  - _Выходные параметры_: идентификатор заказа
- **Получение Заказа для Пользователя**
  - _Входные параметры_: пользователь
  - _Выходные параметры_: массив заказов (идентификатор, пользователь, список услуг, дата создания)
- **Добавление Услуги в Заказ**
  - _Входные параметры_: идентификатор заказа (order_id), идентификатор услуги (service_id)
  - _Выходные параметры_: обновлённый заказ, включая идентификатор заказа (order_id), список услуг (service_ids), дата создания (date)


### Модель данных
![model_data](http://www.plantuml.com/plantuml/proxy?cache=no&src=https://raw.githubusercontent.com/KoryakovDmitry/hl_mai_lab_01_python/main/umls/model_data.iuml)


# Контекст решения
![context_solution](http://www.plantuml.com/plantuml/proxy?cache=no&src=https://raw.githubusercontent.com/KoryakovDmitry/hl_mai_lab_01_python/main/umls/context_solution.iuml)

## Назначение систем
|Система| Описание                                                                                                                                       |
|-------|------------------------------------------------------------------------------------------------------------------------------------------------|
| Сайт заказа услуг | Веб-интерфейс, обеспечивающий доступ к информации по услугам и заказам. Бэкенд и Фронтэнд сервиса реализован в виде сервисной архитектуры |


## Наименование: Сайт заказа услуг

### Описание:
Приложение должно содержать следующие данные:
- Пользователь
- Услуга
- Заказ
  
### Реализовать API:
- Создание нового пользователя
- Поиск пользователя по логину
- Поиск пользователя по маске имя и фамилии
- Создание услуги
- Получение списка услуг
- Добавление услуг в заказ
- Получение заказа для пользователя